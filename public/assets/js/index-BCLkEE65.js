import{d as D,E as M,a2 as z,X as F,Y as I,c as s,w as x,e as v,ak as J,_ as i,p as w,q as O,J as S,L,O as R}from"./index-CPdvGQ7v.js";import{c as U,u as Z}from"./useResizeObserver-Aa1wqO5m.js";/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var q={beforeChange:{type:Function},customValue:{type:Array},disabled:{type:Boolean,default:void 0},label:{type:[Array,Function],default:function(){return[]}},loading:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */function _(n,e){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),u.push.apply(u,t)}return u}function K(n){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?_(Object(u),!0).forEach(function(t){i(n,t,u[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):_(Object(u)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(u,t))})}return n}var X=D({name:"TSwitch",props:K({},q),setup:function(e,u){var t=u.slots,r=U(),f=M("switch"),m=z(),o=m.STATUS,g=m.SIZE,b=F(e),C=b.value,j=b.modelValue,P=Z(C,j,e.defaultValue,e.onChange),h=I(P,2),c=h[0],N=h[1],d=s(function(){return e.customValue&&e.customValue.length>0?e.customValue[0]:!0}),E=s(function(){return e.customValue&&e.customValue.length>1?e.customValue[1]:!1});function y(a){var l=c.value===d.value?E.value:d.value;N(l,{e:a})}function T(a){if(!(r.value||e.loading)){if(!e.beforeChange){y(a);return}Promise.resolve(e.beforeChange()).then(function(l){l&&y(a)}).catch(function(l){throw new Error("Switch: some error occurred: ".concat(l))})}}var A=s(function(){return["".concat(f.value),g.value[e.size],i(i(i({},o.value.disabled,r.value),o.value.loading,e.loading),o.value.checked,c.value===d.value||e.modelValue===d.value)]}),k=s(function(){return["".concat(f.value,"__handle"),i(i({},o.value.disabled,r.value),o.value.loading,e.loading)]}),B=s(function(){return["".concat(f.value,"__content"),g.value[e.size],i({},o.value.disabled,r.value)]});x(c,function(a){if(e.customValue&&e.customValue.length&&!e.customValue.includes(a))throw new Error("value is not in ".concat(JSON.stringify(e.customValue)))},{immediate:!0});var V=s(function(){if(w(e.label))return e.label(O,{value:c.value});if(S(e.label))return e.label;if(L(e.label)&&e.label.length){var a=c.value===d.value?e.label[0]:e.label[1];if(!a)return;if(S(a))return a;if(w(a))return a(O)}return t.label?t.label({value:c.value}):null});return function(){var a,l;return e.loading?l=v(J,{size:"small"},null):V.value&&(a=V.value),v("div",{class:A.value,disabled:r.value,onClick:T},[v("span",{class:k.value},[l]),v("div",{class:B.value},[a])])}}});/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var H=R(X);export{H as S};
