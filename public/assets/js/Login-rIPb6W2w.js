import{h as v,d as y,u as V,s as k,j as x,o as B,a as C,w as o,b as t,f as e,e as u,t as I,g as F,k as L,M as N}from"./index-D_e8F7w3.js";import{I as R,B as D,S as M}from"./form-model-B5UeREqF.js";import{F as P,a as T}from"./index-Bo65_XdH.js";import{C as j}from"./index-D2qLX_da.js";import{L as q}from"./index-DutCGoEx.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useResizeObserver-DpG4jxLQ.js";const U=n=>v.request("post","/admin/check_password",{data:n}),A=["src"],E=y({__name:"Login",setup(n){const _=V(),{config:r}=k(_),c=L(),a=x({admin_password:""}),d={},p=async({validateResult:m})=>{m===!0&&(await U({admin_password:a.value.admin_password}),localStorage.setItem("admin_password",a.value.admin_password),N.success("登陆成功"),c.push("/admin"))};return(m,s)=>{const i=R,l=P,f=D,g=M,w=T,h=j,S=q;return B(),C(S,null,{default:o(()=>[t(h,{class:"login"},{default:o(()=>[e("h1",null,[e("img",{src:u(r).logo,alt:"logo"},null,8,A)]),e("h2",null,"登陆 | "+I(u(r).name),1),t(w,{data:a.value,rules:d,onSubmit:p},{default:o(()=>[t(l,{name:"admin_password",label:"管理员密码"},{default:o(()=>[t(i,{modelValue:a.value.admin_password,"onUpdate:modelValue":s[0]||(s[0]=b=>a.value.admin_password=b)},null,8,["modelValue"])]),_:1}),t(l,null,{default:o(()=>[t(g,{size:"small"},{default:o(()=>[t(f,{theme:"primary",type:"submit"},{default:o(()=>s[1]||(s[1]=[F(" 提交 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})}}}),X=z(E,[["__scopeId","data-v-c130d634"]]);export{X as default};
