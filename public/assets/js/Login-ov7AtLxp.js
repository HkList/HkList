import{h as v,d as V,u as x,s as y,j as B,o as C,a as I,w as o,A as k,b as t,f as e,e as u,t as F,g as L,M as N}from"./index-BrogXIyH.js";import{L as R}from"./index-BjwETDbB.js";import{I as D,B as M,S as P}from"./form-model-CALRRR2O.js";import{F as T,a as j}from"./index-CB8cFtmw.js";import{C as q}from"./index-C_NOUe_1.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useResizeObserver-CrmIqf6F.js";const A=n=>v.request("post","/admin/check_password",{data:n}),U=["src"],E=V({__name:"Login",setup(n){const _=x(),{config:r}=y(_),d=k(),a=B({admin_password:""}),c={},p=async({validateResult:m})=>{m===!0&&(await A({admin_password:a.value.admin_password}),localStorage.setItem("admin_password",a.value.admin_password),N.success("登陆成功"),d.push("/admin"))};return(m,s)=>{const i=D,l=T,f=M,g=P,w=j,S=q,b=R;return C(),I(b,null,{default:o(()=>[t(S,{class:"login"},{default:o(()=>[e("h1",null,[e("img",{src:u(r).logo,alt:"logo"},null,8,U)]),e("h2",null,"登陆 | "+F(u(r).name),1),t(w,{data:a.value,rules:c,onSubmit:p},{default:o(()=>[t(l,{name:"admin_password",label:"管理员密码"},{default:o(()=>[t(i,{modelValue:a.value.admin_password,"onUpdate:modelValue":s[0]||(s[0]=h=>a.value.admin_password=h)},null,8,["modelValue"])]),_:1}),t(l,null,{default:o(()=>[t(g,{size:"small"},{default:o(()=>[t(f,{type:"submit"},{default:o(()=>s[1]||(s[1]=[L(" 提交 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})}}}),X=z(E,[["__scopeId","data-v-0721a15d"]]);export{X as default};
