import{d as de,B as D,c as y,$ as fe,a0 as me,b as C,a5 as ge,G as x,ah as k,ai as H,aj as F,w as S,n as he,a4 as ye,O as xe,g as _,a9 as $,a6 as U,ak as pe,al as X,am as be,R as Se}from"./index-B0Mdhndc.js";import{u as _e,F as we,a as Te}from"./index-BPTL18wz.js";import{u as ze,c as Ve}from"./useResizeObserver-DYS1YzRD.js";import{o as Ce}from"./omit-DP2AXyHi.js";/**
 * tdesign v1.11.5
 * (c) 2025 tdesign
 * @license MIT
 */var l,Fe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow-y:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,Ie=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ne(d){if(!(typeof window>"u"||!d)){var e=window.getComputedStyle(d),h=e.getPropertyValue("box-sizing")||e.getPropertyValue("-moz-box-sizing")||e.getPropertyValue("-webkit-box-sizing"),s=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),f=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width")),v=Ie.map(function(u){return"".concat(u,":").concat(e.getPropertyValue(u))}).join(";");return{sizingStyle:v,paddingSize:s,borderSize:f,boxSizing:h}}}function G(d){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var s=Ne(d),f=s.paddingSize,v=s.borderSize,u=s.boxSizing,I=s.sizingStyle;l.setAttribute("style","".concat(I,";").concat(Fe)),l.value=d.value||d.placeholder||"";var c=l.scrollHeight,p={};u==="border-box"?c+=v:u==="content-box"&&(c-=f),l.value="";var V=l.scrollHeight-f;if(e!==null){var b=V*e;u==="border-box"&&(b=b+f+v),c=Math.max(b,c),p.minHeight="".concat(b,"px")}if(h!==null){var w=V*h;u==="border-box"&&(w=w+f+v),c=Math.min(w,c)}return p.height="".concat(c,"px"),l.parentNode&&l.parentNode.removeChild(l),l=null,p}/**
 * tdesign v1.11.5
 * (c) 2025 tdesign
 * @license MIT
 */var Pe={allowInputOverMax:Boolean,autofocus:Boolean,autosize:{type:[Boolean,Object],default:!1},disabled:{type:Boolean,default:void 0},maxcharacter:{type:Number},maxlength:{type:[String,Number]},name:{type:String,default:""},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:void 0},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},tips:{type:[String,Function]},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onValidate:Function};/**
 * tdesign v1.11.5
 * (c) 2025 tdesign
 * @license MIT
 */var Ae=de({name:"TTextarea",inheritAttrs:!1,props:Pe,setup:function(e,h){var s=h.attrs,f=h.expose,v=D(),u=D("textarea"),I=y(function(){return"".concat(u.value,"__tips")}),c=y(function(){return"".concat(u.value,"__limit")}),p=fe(e),V=p.value,b=p.modelValue,w=ze(V,b,e.defaultValue,e.onChange),K=me(w,2),o=K[0],J=K[1],T=Ve(),j=_e(),z=C({}),i=C(),N=C(!1),P=C(!1),Y=function(){var a;return(a=i.value)===null||a===void 0?void 0:a.focus()},Z=function(){var a;return(a=i.value)===null||a===void 0?void 0:a.blur()},m=function(){var a;if(e.autosize===!0)z.value=G(i.value);else if(e.autosize&&F(e.autosize)==="object"){var n=e.autosize,r=n.minRows,g=n.maxRows;z.value=G(i.value,r,g)}else s.rows?z.value={height:"auto",minHeight:"auto"}:s.style&&(a=i.value)!==null&&a!==void 0&&(a=a.style)!==null&&a!==void 0&&a.height&&(z.value={height:i.value.style.height})},q=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=i.value,r=String(a);n&&n.value!==r&&(n.value=r,o.value=r)},E=function(a){var n=a.target,r=n.value;if(e.maxcharacter&&e.maxcharacter>=0){var g=H(r,e.maxcharacter);r=F(g)==="object"&&g.characters}!P.value&&J(r,{e:a}),U(function(){return q(r)}),m()},Q=function(a){E(a)},W=function(){P.value=!0},ee=function(a){P.value=!1,E(a)},A=function(a,n){var r;if(!T.value){var g="on".concat(a[0].toUpperCase()).concat(a.slice(1));(r=e[g])===null||r===void 0||r.call(e,o.value,{e:n})}},ae=function(a){A("keydown",a)},te=function(a){A("keyup",a)},ne=function(a){A("keypress",a)},re=function(a){var n;m(),!T.value&&(N.value=!0,(n=e.onFocus)===null||n===void 0||n.call(e,o.value,{e:a}))},R=ge(we,void 0),ue=function(a){var n;a.target&&(m(),N.value=!1,(n=e.onBlur)===null||n===void 0||n.call(e,o.value,{e:a}),R==null||R.handleBlur())},oe=y(function(){return[u.value,x(x({},"".concat(v.value,"-is-disabled"),T.value),"".concat(v.value,"-is-readonly"),j.value)]}),ie=y(function(){return k({autofocus:e.autofocus,disabled:T.value,readonly:j.value,placeholder:e.placeholder,maxlength:!e.allowInputOverMax&&e.maxlength||void 0,name:e.name||void 0})}),le=y(function(){var t=H(String(o.value||""));return F(t)==="object"?t.length:t}),se=y(function(){return{value:[void 0,null].includes(o.value)?void 0:String(o.value),status:e.status,maxlength:Number(e.maxlength),maxcharacter:e.maxcharacter,allowInputOverMax:e.allowInputOverMax,onValidate:e.onValidate}}),ve=Te(se),M=ve.tStatus;S(function(){return o.value},function(){return m()}),S(i,function(t){t&&m()}),S(function(){return e.autofocus},function(t){t&&i.value.focus()}),S(z,function(t){var a=s.style;pe(a)?X(i.value,be(a,t)):X(i.value,t)}),S(o,function(){U(function(){return m()})}),S(function(){return e.autosize},m,{deep:!0}),f({focus:Y,blur:Z}),he(function(){m()});var ce=xe();return function(){var t,a=k({onFocus:re,onBlur:ue,onKeydown:ae,onKeyup:te,onKeypress:ne}),n=ye(),r=n.STATUS,g=y(function(){return["".concat(u.value,"__inner"),x(x(x(x({},"".concat(v.value,"-is-").concat(M.value),M.value),r.value.disabled,T.value),r.value.focused,N.value),"".concat(v.value,"-resize-none"),F(e.autosize)==="object"),"narrow-scrollbar"]}),L=ce("tips"),B=L&&_("div",{class:"".concat(I.value," ").concat(u.value,"__tips--").concat(e.status||"normal")},[L]),O=e.maxcharacter&&_("span",{class:c.value},["".concat(le.value,"/").concat(e.maxcharacter)])||!e.maxcharacter&&e.maxlength&&_("span",{class:c.value},["".concat(o.value?(t=String(o.value))===null||t===void 0?void 0:t.length:0,"/").concat(e.maxlength)]);return _("div",$({class:oe.value},Ce(s,["style"])),[_("textarea",$({onInput:Q,onCompositionstart:W,onCompositionend:ee,ref:i,value:o.value,class:g.value},a,ie.value),null),B||O?_("div",{class:["".concat(u.value,"__info_wrapper"),x({},"".concat(u.value,"__info_wrapper_align"),!B)]},[B,O]):null])}}});/**
 * tdesign v1.11.5
 * (c) 2025 tdesign
 * @license MIT
 */var Ee=Se(Ae);export{Ee as T};
