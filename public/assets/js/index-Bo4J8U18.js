import{h as L,d as N,j as g,o as u,k as b,b as t,w as e,a as i,l as S,F as y,g as o,t as l,m as T,M as w,e as P,f as M}from"./index-BrogXIyH.js";import{L as j,c as q,a as E}from"./copy-CC4LctG6.js";import{C as R}from"./index-C_NOUe_1.js";import{I as U,B as $,S as A}from"./form-model-CALRRR2O.js";import{F as G,a as H}from"./index-CB8cFtmw.js";import{D as J,a as K}from"./index-C65M4Y-I.js";import{T as O}from"./index-Rct5zLYA.js";import"./dep-b315df3e-B5DWW-tz.js";import"./useVirtualScrollNew-BU8b0j46.js";import"./useResizeObserver-CrmIqf6F.js";const Q=c=>L.request("get","/user/token",{params:c}),se=N({__name:"index",setup(c){const r=g({token:""}),a=g({token:"",count:0,size:0,remaining_count:0,remaining_size:0,ip:[],created_at:"",expires_at:""}),z={},x=async({validateResult:d})=>{if(d!==!0)return;const n=await Q({token:r.value.token===""?"guest":r.value.token});a.value=n.data,w.success("查询成功")};return(d,n)=>{const C=U,p=G,f=$,m=A,I=H,k=R,s=J,v=O,V=E,B=j,F=K;return u(),b(y,null,[t(k,null,{default:e(()=>[t(I,{data:r.value,rules:z,onSubmit:x},{default:e(()=>[t(p,{name:"token",label:"卡密"},{default:e(()=>[t(C,{modelValue:r.value.token,"onUpdate:modelValue":n[0]||(n[0]=_=>r.value.token=_)},null,8,["modelValue"])]),_:1}),t(p,null,{default:e(()=>[t(m,{size:"small"},{default:e(()=>[t(f,{type:"submit"},{default:e(()=>n[1]||(n[1]=[o(" 查询 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1}),a.value.token!==""?(u(),i(k,{key:0},{default:e(()=>[t(F,{layout:"vertical",bordered:"",colon:""},{default:e(()=>[t(s,{label:"卡密"},{default:e(()=>[o(l(a.value.token),1)]),_:1}),t(s,{label:"计划下载配额"},{default:e(()=>[o(l(a.value.count),1)]),_:1}),t(s,{label:"剩余下载配额"},{default:e(()=>[o(l(a.value.remaining_count),1)]),_:1}),t(s,{label:"计划下载大小"},{default:e(()=>[o(l(a.value.size),1)]),_:1}),t(s,{label:"剩余下载大小"},{default:e(()=>[o(l(a.value.remaining_size),1)]),_:1}),t(s,{label:"IP"},{default:e(()=>[a.value.ip.length===0?(u(),i(v,{key:0,size:"large"},{default:e(()=>n[2]||(n[2]=[o(" 没有绑定的IP ")])),_:1})):(u(),i(B,{key:1,stripe:"",split:"",size:"large"},{default:e(()=>[(u(!0),b(y,null,T(a.value.ip,(_,D)=>(u(),i(V,{key:_},{default:e(()=>[t(m,{direction:"vertical"},{default:e(()=>[t(m,null,{default:e(()=>[t(v,{size:"large"},{default:e(()=>[o(" 第 "+l(D+1)+" 条 ",1)]),_:2},1024),t(f,{onClick:W=>P(q)(_)},{default:e(()=>n[3]||(n[3]=[o("复制")])),_:2},1032,["onClick"])]),_:2},1024),M("p",null,l(_),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1}),t(s,{label:"使用日期"},{default:e(()=>[o(l(a.value.created_at),1)]),_:1}),t(s,{label:"过期日期"},{default:e(()=>[o(l(a.value.expires_at),1)]),_:1})]),_:1})]),_:1})):S("",!0)],64)}}});export{se as default};
