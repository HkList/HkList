import{d as M,ao as k,Q as z,ab as F,a5 as I,a6 as U,c as s,w as Z,h as d,at as x,U as i,E as w,G as S,V as O,X as R,Z as G}from"./index-CbTStCTl.js";import{u as J}from"./useResizeObserver-CP_6mhRt.js";/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var K={beforeChange:{type:Function},customValue:{type:Array},disabled:{type:Boolean,default:void 0},label:{type:[Array,Function],default:function(){return[]}},loading:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function C(n,e){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),u.push.apply(u,t)}return u}function L(n){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?C(Object(u),!0).forEach(function(t){i(n,t,u[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):C(Object(u)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(u,t))})}return n}var Q=M({name:"TSwitch",props:L({},K),setup:function(e,u){var t=u.slots,r=k(),f=z("switch"),m=F(),o=m.STATUS,g=m.SIZE,b=I(e),_=b.value,j=b.modelValue,P=J(_,j,e.defaultValue,e.onChange),h=U(P,2),c=h[0],N=h[1],v=s(function(){return e.customValue&&e.customValue.length>0?e.customValue[0]:!0}),E=s(function(){return e.customValue&&e.customValue.length>1?e.customValue[1]:!1});function y(a){var l=c.value===v.value?E.value:v.value;N(l,{e:a})}function T(a){if(!(r.value||e.loading)){if(!e.beforeChange){y(a);return}Promise.resolve(e.beforeChange()).then(function(l){l&&y(a)}).catch(function(l){throw new Error("Switch: some error occurred: ".concat(l))})}}var A=s(function(){return["".concat(f.value),g.value[e.size],i(i(i({},o.value.disabled,r.value),o.value.loading,e.loading),o.value.checked,c.value===v.value||e.modelValue===v.value)]}),B=s(function(){return["".concat(f.value,"__handle"),i(i({},o.value.disabled,r.value),o.value.loading,e.loading)]}),D=s(function(){return["".concat(f.value,"__content"),g.value[e.size],i({},o.value.disabled,r.value)]});Z(c,function(a){if(e.customValue&&e.customValue.length&&!e.customValue.includes(a))throw new Error("value is not in ".concat(JSON.stringify(e.customValue)))},{immediate:!0});var V=s(function(){if(w(e.label))return e.label(S,{value:c.value});if(O(e.label))return e.label;if(R(e.label)&&e.label.length){var a=c.value===v.value?e.label[0]:e.label[1];if(!a)return;if(O(a))return a;if(w(a))return a(S)}return t.label?t.label({value:c.value}):null});return function(){var a,l;return e.loading?l=d(x,{size:"small"},null):V.value&&(a=V.value),d("div",{class:A.value,disabled:r.value,onClick:T},[d("span",{class:B.value},[l]),d("div",{class:D.value},[a])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var H=G(Q);export{H as S};
