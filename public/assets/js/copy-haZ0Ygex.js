import{d as P,J as I,e as o,R as T,c as S,Q as G,_ as b,r as Q,B as U,a2 as q,F as w,O as L,ak as W,a4 as tt,S as x,M as et}from"./index-DHXQ7Ria.js";import{o as rt}from"./dep-d2ce4e2b-CXntoJY8.js";import{g as nt}from"./index-CcZbOF0C.js";import{u as at}from"./useVirtualScrollNew-DsGbtd_P.js";import{l as E}from"./useResizeObserver-B6vL9CAv.js";/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var ot={action:{type:[String,Function]},content:{type:[String,Function]},default:{type:[String,Function]}};/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var H=P({name:"TListItem",props:ot,setup:function(){var t=I("list-item"),e=T();return function(){var n=e("content"),i=e("default"),a=e("action");return o("li",{class:t.value},[o("div",{class:"".concat(t.value,"-main")},[i||n,a&&o("li",{class:"".concat(t.value,"__action")},[a])])])}}});/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var lt={asyncLoading:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},scroll:{type:Object},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},split:Boolean,stripe:Boolean,onLoadMore:Function,onScroll:Function};/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var M="load-more",it="loading";/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */function N(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function V(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?N(Object(e),!0).forEach(function(n){b(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):N(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function st(r,t){var e=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=ct(r))||t){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,u=!0,s=!1;return{s:function(){e=e.call(r)},n:function(){var c=e.next();return u=c.done,c},e:function(c){s=!0,a=c},f:function(){try{u||e.return==null||e.return()}finally{if(s)throw a}}}}function ct(r,t){if(r){if(typeof r=="string")return A(r,t);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?A(r,t):void 0}}function A(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}var ut=function(){var t=nt(),e=S(function(){var n=[],i=t("ListItem");if(G(i)){var a=st(i),u;try{for(a.s();!(u=a.n()).done;){var s=u.value;n.push(V(V({},s.props),{},{slots:s.children}))}}catch(l){a.e(l)}finally{a.f()}}return n});return{listItems:e}};/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */function D(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function F(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?D(Object(e),!0).forEach(function(n){b(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):D(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var vt=function(t,e,n){var i=S(function(){return{data:n.value,scroll:t}}),a=at(e,i),u=S(function(){return a.isVirtualScroll.value}),s=-1,l=function(p){var d=p.target||p.srcElement,y=d.scrollTop;s!==y?a.isVirtualScroll.value&&a.handleScroll():s=-1,s=y},c=S(function(){return{position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(a.scrollHeight.value,"px)"),"-ms-transform":"translate(0, ".concat(a.scrollHeight.value,"px)"),"-moz-transform":"translate(0, ".concat(a.scrollHeight.value,"px)"),"-webkit-transform":"translate(0, ".concat(a.scrollHeight.value,"px)")}}),j=S(function(){return{transform:"translate(0, ".concat(a.translateY.value,"px)"),"-ms-transform":"translate(0, ".concat(a.translateY.value,"px)"),"-moz-transform":"translate(0, ".concat(a.translateY.value,"px)"),"-webkit-transform":"translate(0, ".concat(a.translateY.value,"px)")}}),f=function(p){var d=p.index,y=p.key,m=d===0?d:d??Number(y);if(!m&&m!==0){E.error("List","scrollTo: `index` or `key` must exist.");return}if(m<0||m>=n.value.length){E.error("List","".concat(m," does not exist in data, check `index` or `key` please."));return}a.scrollToElement(F(F({},p),{},{index:m-1}))};return{virtualConfig:a,cursorStyle:c,listStyle:j,isVirtualScroll:u,onInnerVirtualScroll:l,scrollToElement:f}};/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */function k(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function dt(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?k(Object(e),!0).forEach(function(n){b(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var ft=P({name:"TList",props:dt({},lt),setup:function(t){var e=Q(),n=U("list"),i=n.globalConfig,a=I("list"),u=q(),s=u.SIZE,l=T(),c=ut(),j=c.listItems,f=vt(t.scroll,e,j),C=f.virtualConfig,p=f.cursorStyle,d=f.listStyle,y=f.isVirtualScroll,m=f.onInnerVirtualScroll,$=f.scrollToElement,z=S(function(){return["".concat(a.value),s.value[t.size],b(b(b({},"".concat(a.value,"--split"),t.split),"".concat(a.value,"--stripe"),t.stripe),"".concat(a.value,"--vertical-action"),t.layout==="vertical")]}),J=function(){var g=l("header"),v=l("footer"),h=C.isVirtualScroll.value;return o(w,null,[g?o("div",{class:"".concat(a.value,"__header")},[g]):null,h?o(w,null,[o("div",{style:p.value},null),o("ul",{class:"".concat(a.value,"__inner"),style:d.value},[C.visibleData.value.map(function(O){return o(w,null,[o(H,rt(O,"slots"),O.slots)])})])]):o("ul",{class:"".concat(a.value,"__inner")},[l("default")]),v?o("div",{class:"".concat(a.value,"__footer")},[v]):null])},R=function(g){var v,h=g.target,O=h.scrollTop,K=h.scrollHeight,Z=h.clientHeight;y.value&&m(g),(v=t.onScroll)===null||v===void 0||v.call(t,{e:g,scrollTop:O,scrollBottom:K-Z-O})},Y=S(function(){return L(t.asyncLoading)&&["loading","load-more"].includes(t.asyncLoading)?"".concat(a.value,"__load ").concat(a.value,"__load--").concat(t.asyncLoading):"".concat(a.value,"__load")}),B=function(){if(t.asyncLoading&&L(t.asyncLoading)){if(t.asyncLoading===it)return o("div",null,[o(W,null,null),o("span",null,[i.value.loadingText])]);if(t.asyncLoading===M)return o("span",null,[i.value.loadingMoreText])}return l("asyncLoading")},X=function(g){var v;L(t.asyncLoading)&&t.asyncLoading!==M||(v=t.onLoadMore)===null||v===void 0||v.call(t,{e:g})};return{COMPONENT_NAME:a,listClass:z,loadingClass:Y,renderLoading:B,renderContent:J,handleScroll:R,handleLoadMore:X,listRef:e,isVirtualScroll:y,scrollTo:$}},render:function(){var t=this.renderContent();return t=[t,o("div",{class:this.loadingClass,onClick:this.handleLoadMore},[this.renderLoading()])],o("div",{class:this.listClass,onScroll:this.handleScroll,ref:"listRef",style:this.isVirtualScroll?"position:relative":void 0},[t])}});/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var pt={avatar:{type:[String,Function]},description:{type:[String,Function]},image:{type:[String,Function]},title:{type:[String,Function]}};/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var mt=P({name:"TListItemMeta",props:pt,setup:function(t,e){var n=I("list-item__meta"),i=tt(),a=T(),u=function(){(t.avatar||e.slots.avatar)&&console.warn("`avatar` is going to be deprecated, please use `image` instead");var l=i("avatar","image");if(l)return L(l)?o("div",{class:"".concat(n.value,"-avatar")},[o("img",{src:l},null)]):o("div",{class:"".concat(n.value,"-avatar")},[l])};return function(){var s=a("title"),l=a("description"),c=[u(),o("div",{class:"".concat(n.value,"-content")},[s&&o("h3",{class:"".concat(n.value,"-title")},[s]),l&&o("p",{class:"".concat(n.value,"-description")},[l])])];return o("div",{class:n.value},[c])}}});/**
 * tdesign v1.10.6
 * (c) 2024 tdesign
 * @license MIT
 */var Ot=x(ft),Ct=x(H);x(mt);const Lt=async(r,t="复制成功")=>{try{await navigator.clipboard.writeText(r)}catch{const e=document.createElement("textarea");e.value=r,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}et.success(t)};export{Ot as L,Ct as a,Lt as c};
