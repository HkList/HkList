import{d as D,K as M,a2 as k,X as F,Y as I,c as s,w as R,f,ah as x,_ as i,z as w,A as S,P as O,R as K,T as U}from"./index-C5Ad9MSy.js";import{u as Z}from"./index-CvhmcSF0.js";import{u as J}from"./useResizeObserver-J7s6DlTb.js";/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var L={beforeChange:{type:Function},customValue:{type:Array},disabled:{type:Boolean,default:void 0},label:{type:[Array,Function],default:function(){return[]}},loading:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _(n,e){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),u.push.apply(u,t)}return u}function X(n){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?_(Object(u),!0).forEach(function(t){i(n,t,u[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):_(Object(u)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(u,t))})}return n}var Y=D({name:"TSwitch",props:X({},L),setup:function(e,u){var t=u.slots,r=Z(),d=M("switch"),m=k(),o=m.STATUS,g=m.SIZE,b=F(e),C=b.value,P=b.modelValue,j=J(C,P,e.defaultValue,e.onChange),h=I(j,2),c=h[0],N=h[1],v=s(function(){return e.customValue&&e.customValue.length>0?e.customValue[0]:!0}),T=s(function(){return e.customValue&&e.customValue.length>1?e.customValue[1]:!1});function y(a){var l=c.value===v.value?T.value:v.value;N(l,{e:a})}function A(a){if(!(r.value||e.loading)){if(!e.beforeChange){y(a);return}Promise.resolve(e.beforeChange()).then(function(l){l&&y(a)}).catch(function(l){throw new Error("Switch: some error occurred: ".concat(l))})}}var E=s(function(){return["".concat(d.value),g.value[e.size],i(i(i({},o.value.disabled,r.value),o.value.loading,e.loading),o.value.checked,c.value===v.value||e.modelValue===v.value)]}),z=s(function(){return["".concat(d.value,"__handle"),i(i({},o.value.disabled,r.value),o.value.loading,e.loading)]}),B=s(function(){return["".concat(d.value,"__content"),g.value[e.size],i({},o.value.disabled,r.value)]});R(c,function(a){if(e.customValue&&e.customValue.length&&!e.customValue.includes(a))throw new Error("value is not in ".concat(JSON.stringify(e.customValue)))},{immediate:!0});var V=s(function(){if(w(e.label))return e.label(S,{value:c.value});if(O(e.label))return e.label;if(K(e.label)&&e.label.length){var a=c.value===v.value?e.label[0]:e.label[1];if(!a)return;if(O(a))return a;if(w(a))return a(S)}return t.label?t.label({value:c.value}):null});return function(){var a,l;return e.loading?l=f(x,{size:"small"},null):V.value&&(a=V.value),f("div",{class:E.value,disabled:r.value,onClick:A},[f("span",{class:z.value},[l]),f("div",{class:B.value},[a])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Q=U(Y);export{Q as S};
