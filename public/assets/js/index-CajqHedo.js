import{h as w,a2 as D,d as h,s as I,B as U,j as q,o as b,a as y,w as t,f as k,b as e,e as a,g as i,t as r,k as N,m as F,F as C}from"./index-BrogXIyH.js";import{u as O,T as P}from"./useCommonStore-G08D6wdY.js";import{f as j}from"./format-C9Mn3G7x.js";import{L as E,c as M,a as $}from"./copy-CC4LctG6.js";import{C as A}from"./index-C_NOUe_1.js";import{O as G,S as H}from"./index-CHQUfaRt.js";import{B as J,S as Q}from"./form-model-CALRRR2O.js";import{D as W,a as X}from"./index-C65M4Y-I.js";import{T as Y}from"./index-Rct5zLYA.js";import"./dep-b315df3e-B5DWW-tz.js";import"./dep-0df090f8-CmIrGLIn.js";import"./fake-arrow-BQ9mFyFj.js";import"./useResizeObserver-CrmIqf6F.js";import"./index-B3944tmz.js";import"./add-WtetHkRT.js";import"./useVirtualScrollNew-BU8b0j46.js";import"./helper-DeHNcuS0.js";const Z=d=>w.request("get","/admin/record",{params:d}),ee=D("records",()=>{const[d,n,p,_]=O(Z);return{pagination:n,selectReq:d,recordList:p,getRecords:_}}),te={class:"buttons"},ke=h({__name:"index",setup(d){const n=ee(),{recordList:p,pagination:_,selectReq:c}=I(n);U(n.getRecords);const R=q([{colKey:"id",title:"ID",ellipsis:!0},{colKey:"ip",title:"IP",ellipsis:!0},{colKey:"fingerprint",title:"指纹",ellipsis:!0},{colKey:"file.size",title:"文件大小",cell:(S,{row:o})=>e(C,null,[j(o.file.size)]),ellipsis:!0},{colKey:"token.token",title:"卡密",ellipsis:!0},{colKey:"account.baidu_name",title:"解析账号名称",ellipsis:!0},{colKey:"created_at",title:"创建时间",width:175,ellipsis:!0},{colKey:"updated_at",title:"更新时间",width:175,ellipsis:!0}]);return(S,o)=>{const l=G,g=H,v=J,m=Q,u=W,V=Y,B=$,K=E,z=X,x=P,L=A;return b(),y(L,null,{default:t(()=>[k("div",te,[e(m,{size:"small"},{default:t(()=>[e(g,{modelValue:a(c).column,"onUpdate:modelValue":o[0]||(o[0]=s=>a(c).column=s),onChange:a(n).getRecords},{default:t(()=>[e(l,{label:"按 id 排序",value:"id"}),e(l,{label:"按 ip 排序",value:"ip"}),e(l,{label:"按 fingerprint 排序",value:"fingerprint"}),e(l,{label:"按 fs_id 排序",value:"fs_id"}),e(l,{label:"按 urls 排序",value:"urls"}),e(l,{label:"按 ua 排序",value:"ua"}),e(l,{label:"按 token_id 排序",value:"token_id"}),e(l,{label:"按 account_id 排序",value:"account_id"}),e(l,{label:"按 created_at 排序",value:"created_at"}),e(l,{label:"按 updated_at 排序",value:"updated_at"})]),_:1},8,["modelValue","onChange"]),e(g,{modelValue:a(c).direction,"onUpdate:modelValue":o[1]||(o[1]=s=>a(c).direction=s),onChange:a(n).getRecords},{default:t(()=>[e(l,{label:"正序",value:"asc"}),e(l,{label:"倒序",value:"desc"})]),_:1},8,["modelValue","onChange"]),e(v,{onClick:a(n).getRecords},{default:t(()=>o[2]||(o[2]=[i(" 刷新列表 ")])),_:1},8,["onClick"])]),_:1})]),e(x,{"row-key":"id",resizable:"","lazy-load":"",bordered:!0,data:a(p),pagination:a(_),columns:R.value},{expandedRow:t(({row:s})=>[e(z,{bordered:"",colon:"",layout:"vertical"},{default:t(()=>[e(u,{label:"Surl"},{default:t(()=>[i(r(s.file.surl),1)]),_:2},1024),e(u,{label:"Pwd"},{default:t(()=>[i(r(s.file.pwd),1)]),_:2},1024),e(u,{label:"Ua"},{default:t(()=>[i(r(s.ua),1)]),_:2},1024),e(u,{label:"Urls"},{default:t(()=>[e(K,{split:"",size:"large"},{default:t(()=>[(b(!0),N(C,null,F(s.urls,(f,T)=>(b(),y(B,{key:f},{default:t(()=>[e(m,{direction:"vertical"},{default:t(()=>[e(m,null,{default:t(()=>[e(V,{size:"large"},{default:t(()=>[i(" 第 "+r(T+1)+" 条 ",1)]),_:2},1024),e(v,{onClick:le=>a(M)(f)},{default:t(()=>o[3]||(o[3]=[i("复制")])),_:2},1032,["onClick"])]),_:2},1024),k("p",null,r(f),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["data","pagination","columns"])]),_:1})}}});export{ke as default};
