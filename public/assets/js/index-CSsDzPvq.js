import{d as B,J as D,a2 as M,X as F,Y as I,c as s,w as x,e as d,ak as J,_ as i,y as S,z as w,O,Q as R,S as U}from"./index-C_odLYWW.js";import{c as Z,u as K}from"./useResizeObserver-tQUv4CPG.js";/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var L={beforeChange:{type:Function},customValue:{type:Array},disabled:{type:Boolean,default:void 0},label:{type:[Array,Function],default:function(){return[]}},loading:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _(n,e){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),u.push.apply(u,t)}return u}function Q(n){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?_(Object(u),!0).forEach(function(t){i(n,t,u[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):_(Object(u)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(u,t))})}return n}var X=B({name:"TSwitch",props:Q({},L),setup:function(e,u){var t=u.slots,r=Z(),f=D("switch"),m=M(),o=m.STATUS,g=m.SIZE,b=F(e),C=b.value,j=b.modelValue,P=K(C,j,e.defaultValue,e.onChange),h=I(P,2),c=h[0],N=h[1],v=s(function(){return e.customValue&&e.customValue.length>0?e.customValue[0]:!0}),E=s(function(){return e.customValue&&e.customValue.length>1?e.customValue[1]:!1});function y(a){var l=c.value===v.value?E.value:v.value;N(l,{e:a})}function T(a){if(!(r.value||e.loading)){if(!e.beforeChange){y(a);return}Promise.resolve(e.beforeChange()).then(function(l){l&&y(a)}).catch(function(l){throw new Error("Switch: some error occurred: ".concat(l))})}}var A=s(function(){return["".concat(f.value),g.value[e.size],i(i(i({},o.value.disabled,r.value),o.value.loading,e.loading),o.value.checked,c.value===v.value||e.modelValue===v.value)]}),k=s(function(){return["".concat(f.value,"__handle"),i(i({},o.value.disabled,r.value),o.value.loading,e.loading)]}),z=s(function(){return["".concat(f.value,"__content"),g.value[e.size],i({},o.value.disabled,r.value)]});x(c,function(a){if(e.customValue&&e.customValue.length&&!e.customValue.includes(a))throw new Error("value is not in ".concat(JSON.stringify(e.customValue)))},{immediate:!0});var V=s(function(){if(S(e.label))return e.label(w,{value:c.value});if(O(e.label))return e.label;if(R(e.label)&&e.label.length){var a=c.value===v.value?e.label[0]:e.label[1];if(!a)return;if(O(a))return a;if(S(a))return a(w)}return t.label?t.label({value:c.value}):null});return function(){var a,l;return e.loading?l=d(J,{size:"small"},null):V.value&&(a=V.value),d("div",{class:A.value,disabled:r.value,onClick:T},[d("span",{class:k.value},[l]),d("div",{class:z.value},[a])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var G=U(X);export{G as S};
