import{h as K,Y as x,d as B,s as D,l as h,j as w,o as p,a as I,w as i,f as o,b as e,e as a,g as T,t as b,Z as v,a1 as q,$ as m}from"./index-D_e8F7w3.js";import{u as z,T as L}from"./useCommonStore-yXH10JG6.js";import{b as y}from"./format-BfWQo8TN.js";import{O as N,S as U}from"./index-BOGHR9gk.js";import{B as O,S as j}from"./form-model-B5UeREqF.js";import{C as A}from"./index-D2qLX_da.js";import"./fake-arrow-B67j7q7r.js";import"./useResizeObserver-DpG4jxLQ.js";import"./dep-0df090f8-Cb_6GBHN.js";import"./index-D8YBBlIp.js";import"./add-CMcXD9Sx.js";import"./helper-Csse-oO9.js";const E=r=>K.request("get","/admin/record",{params:r}),F=x("records",()=>{const[r,s,d,c]=z(E);return{pagination:s,selectReq:r,recordList:d,getRecords:c}}),M={class:"buttons"},P={class:"more-detail"},oe=B({__name:"index",setup(r){const s=F(),{recordList:d,pagination:c,selectReq:u}=D(s);h(s.getRecords);const C=w([{colKey:"id",title:"ID",ellipsis:!0},{colKey:"ip",title:"IP",ellipsis:!0},{colKey:"fingerprint",title:"指纹",ellipsis:!0},{colKey:"fs_id",title:"文件ID",ellipsis:!0},{colKey:"token_id",title:"卡密ID",ellipsis:!0},{colKey:"account_id",title:"解析账号ID",ellipsis:!0},{colKey:"created_at",title:"创建时间",cell:(_,{row:t})=>e(m,null,[y(t.created_at)]),width:175,ellipsis:!0},{colKey:"updated_at",title:"更新时间",cell:(_,{row:t})=>e(m,null,[y(t.updated_at)]),width:175,ellipsis:!0}]);return(_,t)=>{const l=N,f=U,k=O,R=j,S=L,V=A;return p(),I(V,null,{default:i(()=>[o("div",M,[e(R,{size:"small"},{default:i(()=>[e(f,{modelValue:a(u).column,"onUpdate:modelValue":t[0]||(t[0]=n=>a(u).column=n),onChange:a(s).getRecords},{default:i(()=>[e(l,{label:"按 id 排序",value:"id"}),e(l,{label:"按 ip 排序",value:"ip"}),e(l,{label:"按 fingerprint 排序",value:"fingerprint"}),e(l,{label:"按 fs_id 排序",value:"fs_id"}),e(l,{label:"按 urls 排序",value:"urls"}),e(l,{label:"按 ua 排序",value:"ua"}),e(l,{label:"按 token_id 排序",value:"token_id"}),e(l,{label:"按 account_id 排序",value:"account_id"}),e(l,{label:"按 created_at 排序",value:"created_at"}),e(l,{label:"按 updated_at 排序",value:"updated_at"})]),_:1},8,["modelValue","onChange"]),e(f,{modelValue:a(u).direction,"onUpdate:modelValue":t[1]||(t[1]=n=>a(u).direction=n),onChange:a(s).getRecords},{default:i(()=>[e(l,{label:"正序",value:"asc"}),e(l,{label:"倒序",value:"desc"})]),_:1},8,["modelValue","onChange"]),e(k,{theme:"primary",onClick:a(s).getRecords},{default:i(()=>t[2]||(t[2]=[T(" 刷新列表 ")])),_:1},8,["onClick"])]),_:1})]),e(S,{"row-key":"id",resizable:"","lazy-load":"",bordered:!0,data:a(d),pagination:a(c),columns:C.value},{expandedRow:i(({row:n})=>[o("div",P,[o("ul",null,[t[3]||(t[3]=o("li",null,"UA:",-1)),o("li",null,b(n.ua),1)]),o("ul",null,[t[4]||(t[4]=o("li",null,"urls:",-1)),o("li",null,[o("ol",null,[(p(!0),v(m,null,q(n.urls,g=>(p(),v("li",{key:g},b(g),1))),128))])])])])]),_:1},8,["data","pagination","columns"])]),_:1})}}});export{oe as default};
